<div class="oggetto">
    <div class="linkto" (click)="browse()">{{oggetto.id}}</div>
    <div class="gallery zoomed-{{gallery.zoomed}}" *ngIf="!saving">
        <div class="images">
            <div class="image" *ngFor="let image of gallery.shown" >
                <img class="selected-{{image.selected}}" [src]="image.src" (click)="image.toggle()" />
            </div>
        </div>
        <div class="buttons">
            <div (click)="gallery.toggle()">zoom</div>
            <div *ngIf="gallery.more.length > 0" (click)="gallery.showAll()">Altre {{gallery.more.length}} foto</div>
            <div *ngIf="gallery.selected().length > 0" (click)="deleteSelectedImages()">Elimina foto</div>
        </div>
    </div>
    <div *ngIf="oggetto.scheda">
        <div>{{oggetto.scheda.tipo}}</div>
        <div *ngIf="!saving" app-scheda-view [scheda]="oggetto.scheda" 
            (save)="saveScheda($event)" 
            (move)="moveScheda($event)"
            (shoot)="shootPicture($event)"
            ></div>
    </div>
    <div *ngIf="!oggetto.scheda">
        <div *ngFor="let proto of allSchedaProto()" (click)="newSchedaAs(proto)">{{proto.nome}}</div>
    </div>
</div>